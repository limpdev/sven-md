:root {
  --bg-body: var(--bgLinear);
  --bg-sidebar: #010409;
  --bg-block: #161b22;
  --bg-code: #161b22;
  --seethru: #00000000;
  --text-primary: #c9d1d9;
  --text-secondary: #8b949e;
  --text-link: #58a6ff;
  --text-link-hover: #79c0ff;
  --border-color: #30363d10;
  --border-light: rgba(240, 246, 252, 0);
  --hl-keyword: #ff7b72;
  --hl-function: #d2a8ff;
  --hl-string: #a5d6ff;
  --hl-variable: #79c0ff;
  --hl-tag: #7ee787;
  --hl-comment: #8b949e;
  --hl-constant: #79c0ff;
  --hl-number: #79c0ff;
  --hl-attr: #79c0ff;
  /* Typography */
  --fontSans: Inter, "Symbols Nerd Font", sans-serif !important;
  --fontAlt: Finder, "Symbols Nerd Font", sans-serif !important;
  --fontPlay: Neco, "Symbols Nerd Font" !important;
  --fontMono: "SFMono Nerd Font", monospace !important;
  /* Font Sizes */
  --sizeh1: 1.7rem;
  --sizeh2: 1.6rem;
  --sizeh3: 1.5rem;
  --sizeh4: 1.4rem;
  --sizebase: 1.3rem;
  --sizeh5: 1.2rem;
  --sizeh6: 1.1rem;
  /* Colors */
  --color-primary: hsl(39.38deg 22.33% 65.53% / 89%);
  --color-positive: var(--color-primary);
  --color-negative: hsl(0deg 38.01% 63.16%);
  --link-hover: #cdb47f;
  /* Border Radius */
  --bdrRound: 16px;
  --bdrCurve: 11px;
  /* Effects */
  --nuShadow: 0 0 0 1px rgba(255, 255, 255, 0.03), 0 12px 28px rgba(0, 0, 0, 0.6);
  --ioease: cubic-bezier(0.165, 0.85, 0.45, 1);
  /* Base Glass */
  --glassBg: linear-gradient(135deg, rgba(10, 10, 10, 0.75), rgba(22, 22, 22, 0.85));
  --glassBf: blur(10px) saturate(1.1);
  --glassBlur: blur(12px) saturate(180%);
  --bgLinear: linear-gradient(135deg, #0a0a0a 0%, #101010 45%, #161616 100%);
}

/* ============================================================================
   GLOBAL RESET & UTILITIES
   ============================================================================ */

html {
  box-sizing: border-box;
  scroll-behavior: smooth;
}

body {
  margin: 0;
  padding: 0;
  font-family: var(--fontSans);
  font-size: 16px;
  line-height: 1.6;
  color: var(--text-primary);
  background-color: var(--bg-body); /* Fallback */
}

/* 
   THEME CLASSES 
   (Moved from components to here for centralization)
*/

/* 1. Main Background Gradient */
.bgGradient {
  background: var(--bgLinear);
  background-attachment: fixed; /* Parallax-like feel */
}

/* 2. Frosty Glass Effect */
.bgGlass {
  background-color: rgba(13, 14, 17, 0.75); /* Semi-transparent dark */
  backdrop-filter: var(--glassBlur);
  -webkit-backdrop-filter: var(--glassBlur);
  border-right: 1px solid var(--border-color);
  box-shadow: 4px 0 24px rgba(0, 0, 0, 0.4);
}

/* 3. Button Styles (Sidebar Toggles, Tabs) */
.sven-btn-icon {
  background: transparent;
  border: 1px solid transparent;
  color: var(--text-secondary);
  cursor: pointer;
  transition: all 360ms var(--ioease);
  border-radius: var(--bdrCurve);
  display: flex;
  align-items: center;
  justify-content: center;
}

.sven-btn-icon:hover {
  color: var(--text-primary);
  background-color: rgba(255, 255, 255, 0.05);
}

.sven-btn-icon.active {
  color: var(--text-link);
  background-color: rgba(88, 166, 255, 0.1);
  border-color: rgba(88, 166, 255, 0.2);
}

/* ============================================================================
   MARKDOWN CONTENT STYLES
   ============================================================================ */

#markdown-content-container {
  max-width: 980px;
  margin: 0 auto;
  padding: 48px 32px;
}

/* Headings */
#markdown-content-container h1, h2, h3, h4, h5, h6 {
  margin-top: 24px;
  margin-bottom: 16px;
  font-weight: 600;
  line-height: 1.25;
  color: var(--text-primary);
}

#markdown-content-container h1 {
  font-size: 2em;
  border-bottom: 1px solid var(--border-color);
  padding-bottom: 0.3em;
}

#markdown-content-container h2 {
  font-size: 1.5em;
  border-bottom: 1px solid var(--border-color);
  padding-bottom: 0.3em;
}

/* Links */
#markdown-content-container a {
  color: var(--text-link);
  text-decoration: none;
}
#markdown-content-container a:hover {
  text-decoration: none !important;
}

/* Blocks */
#markdown-content-container p { margin-bottom: 16px; }
#markdown-content-container ul, 
#markdown-content-container ol { padding-left: 2em; margin-bottom: 16px; }

#markdown-content-container blockquote {
  margin: 0 0 16px;
  padding: 0 1em;
  color: var(--text-secondary);
  border-left: 0.25em solid var(--border-color);
}

/* Images */
#markdown-content-container img {
  max-width: 100%;
  border-radius: var(--bdrCurve);
  background-color: transparent;
}

/* Code Blocks */
#markdown-content-container pre {
  padding: 16px;
  overflow: auto;
  font-size: 85%;
  line-height: 1.45;
  background-color: var(--bg-block);
  border-radius: var(--bdrRound);
  border: 1px solid var(--border-color);
  margin-bottom: 16px;
  position: relative;
}

#markdown-content-container code {
  font-family: var(--fontMono);
}

/* Inline Code */
#markdown-content-container :not(pre) > code {
  padding: 0.2em 0.4em;
  margin: 0;
  font-size: 85%;
  background-color: rgba(110, 118, 129, 0.4);
  border-radius: var(--bdrRound);
}

/* Language Badges & Copy Buttons (Injected via JS) */
.has-language > .language-icon {
  display: inline-block;
  position: absolute;
  justify-self: right;
  margin: 1em 6em;
  top: 0;
  right: 0;
  padding: 4px 8px;
  font-size: 0.75em;
  color: var(--text-secondary);
  text-transform: lowercase;
  background: var(--seethru);
  border-bottom-left-radius: 6px;
  border-left: 1px solid var(--seethru);
  border-bottom: 1px solid var(--seethru);
}

/* Admonitions */
.admonition {
  padding: 16px;
  margin-bottom: 16px;
  border-left: 4px solid var(--text-link);
  background-color: rgba(56, 139, 253, 0.1);
  border-radius: 0 6px 6px 0;
}
.admonition-title {
  font-weight: bold;
  margin-bottom: 8px;
  display: flex;
  align-items: center;
  gap: 8px;
}
.admonition-note { border-color: #58a6ff; background: rgba(56, 139, 253, 0.1); }
.admonition-tip { border-color: #3fb950; background: rgba(46, 160, 67, 0.1); }
.admonition-warning { border-color: #d29922; background: rgba(187, 128, 9, 0.1); }
.admonition-important { border-color: #8957e5; background: rgba(137, 87, 229, 0.1); }
.admonition-caution { border-color: #f85149; background: rgba(248, 81, 73, 0.1); }

/* Tables */
#markdown-content-container table {
  width: 100%;
  border-collapse: collapse;
  margin-bottom: 16px;
}

#markdown-content-container table th,
#markdown-content-container table td {
  padding: 6px 13px;
  border: 1px solid var(--border-color);
}

#markdown-content-container table tr:nth-child(2n) {
  background-color: var(--bg-block);
}

/* ============================================================================
   DETAILS & SUMMARY (ACCORDION) STYLES
   ============================================================================ */

/* The Container */
#markdown-content-container details {
  background-color: var(--bg-block);
  border: 1px solid var(--border-color);
  border-radius: 8px;
  margin-bottom: 16px;
  overflow: hidden; /* Clips the content during animation */
  transition: border-color 0.2s ease;
}

#markdown-content-container details[open] {
  border-color: var(--border-highlight);
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
}

/* The Button (Summary) */
#markdown-content-container summary {
  display: flex;
  align-items: center;
  padding: 12px 16px;
  cursor: pointer;
  background-color: rgba(255, 255, 255, 0.02);
  user-select: none;
  list-style: none; /* Hide default triangle */
  outline: none;
  font-weight: 600;
  color: var(--text-primary);
  transition: background-color 0.2s ease, transform 0.1s cubic-bezier(0.4, 0, 0.2, 1);
  position: relative;
}

/* Hide default marker in Webkit */
#markdown-content-container summary::-webkit-details-marker {
  display: none;
}

/* Hover State */
#markdown-content-container summary:hover {
  background-color: rgba(255, 255, 255, 0.06);
}

/* The "Squishy" Click Effect */
#markdown-content-container summary:active {
  transform: scale(0.985); /* Subtle shrink */
  background-color: rgba(255, 255, 255, 0.08);
}

/* Custom Chevron Icon */
#markdown-content-container summary::after {
  content: '';
  width: 16px;
  height: 16px;
  background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='%238b949e' stroke-width='3' stroke-linecap='round' stroke-linejoin='round'%3E%3Cpolyline points='6 9 12 15 18 9'%3E%3C/polyline%3E%3C/svg%3E");
  background-size: contain;
  background-repeat: no-repeat;
  margin-left: auto; /* Push to right */
  transition: transform 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  opacity: 0.7;
}

#markdown-content-container details[open] > summary::after {
  transform: rotate(180deg);
  stroke: var(--text-primary);
  opacity: 1;
}

/* The Content Wrapper (Added by JS) */
.sven-details-content {
  padding: 16px;
  border-top: 1px solid var(--border-color);
  color: var(--text-secondary);
  background-color: transparent;
  /* Animation props handled by JS, but set defaults */
  transform-origin: top;
  transition: height 0.3s cubic-bezier(0.4, 0, 0.2, 1),
              opacity 0.3s ease;
  overflow: hidden;
}

/* Fix for nested paragraphs within details */
.sven-details-content > p:last-child {
  margin-bottom: 0;
}